!function(){function e(e){a&&a.destroy(),a=t.bindDataTable("#ReadyOrders",[0,1,2,3,4,5,6,7,8],function(e,a,t,r){return 0==r.col?orderNumberFormat(e):8==r.col?"Delivered"==t.state?'<i class="fa fa-check"></i><a href="~/home/orderdetails/'+t.orderNumber+'" class="x-right">Details</a>':"Canceled"==t.state?'<i class ="fa fa-close"></i>':'<button class="btn deliverd-btn vsm-btn green accent-3" type="button" name="action" data-id="'+t.id+'"><i class="fa fa-check"></i></button><a href="~/home/orderdetails/'+t.orderNumber+'" class="x-right">Details</a>':e},"merchant/readyOrders","POST",{orderState:e},[{data:"id"},{data:"grandTotal"},{data:"paymentMethod"},{data:"notes"},{data:"userPhone"},{data:"courierName"},{data:"supervisorName"},{data:"tip"},{data:"state"}])}$(".pg-notfound").hide(),$("#ReadyOrders").hide();var a,t=new DataTableEntry,r=$("#selectOrderstate").val();r&&($("#ReadyOrders").show(),e(r)),$("#selectOrderstate").css("display","block"),$(".select2").css("width","100%"),$("#selectOrderstate").on("change",function(a){$("#ReadyOrders").show();var t=$(this).val();t&&e(t)}),$(document).on("click",".deliverd-btn",function(){$(".pg-progress").show();var e=$(this).data("id"),t={OrderId:e,OrderState:5};$.ajax({url:WeeloApi+"order/status",type:"post",headers:requestHeaders(),dataType:"json",data:t,success:function(e){e.data;$(".pg-progress").hide(),a.draw()}})})}();