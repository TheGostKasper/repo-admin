function ManageLocation(){function t(t,n,o,l,i,g){t.val()>0&&a(n,o,l).then(function(t){$(g).removeClass("hide");var a=$(i);a.html("").select2({data:{id:null,text:null}}),a.select2({data:e(t.data)})},function(t){})}function a(t,a,e){return $.ajax({url:WeeloApi+t,data:a,type:e,headers:requestHeaders(),dataType:"json"})}function e(t){var a=[];if(a.push({id:0,text:"--Select--"}),t)for(var e=0;e<t.length;e++)a.push({id:t[e].id,text:t[e].name});return a}function n(t,a,e){t.geocode({location:a},function(t,a){if("OK"===a)if(t[0]){var n=t[0].formatted_address.split(",");$(e).val(n[0]+","+n[1])}else window.alert("No results found");else window.alert("Geocoder failed due to: "+a)})}function o(t,a,e,n,o){s={lat:parseInt($(a).val()),lng:parseInt($(e).val())};var g;""==$(a).val()?(g=new google.maps.Map(document.getElementById(t),{center:{lat:-34.397,lng:150.644},zoom:16}),i(g)):g=new google.maps.Map(document.getElementById(t),{center:s,zoom:16}),l(g,a,e,new google.maps.Marker({position:s,map:g,draggable:!0,animation:google.maps.Animation.DROP}),n,o)}function l(t,a,e,o,l,i){google.maps.event.addListener(o,"dragend",function(t){$(a).val(t.latLng.lat()),$(e).val(t.latLng.lng()),n(l,{lat:parseFloat(t.latLng.lat()),lng:parseFloat(t.latLng.lng())},i)}),google.maps.event.addListener(t,"click",function(t){var g={lat:parseFloat(t.latLng.lat()),lng:parseFloat(t.latLng.lng())};o.setPosition(g),$(a).val(t.latLng.lat()),$(e).val(t.latLng.lng()),n(l,g,i)})}function i(t){navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(a){g(a.coords.latitude,a.coords.longitude),t.setCenter(s)},function(){})}function g(t,a){s={lat:t,lng:a}}function r(t,a,e,n,o){var i=new google.maps.Geocoder;map=new google.maps.Map(document.getElementById(t),{center:a,zoom:16});var g=new google.maps.Marker({position:a,map:map,draggable:!0,animation:google.maps.Animation.DROP});l(map,e,n,g,i,o)}var s;this.bindDataArraySelect2=t,this.getListById=a,this.getSelect2Objs=e,this.geocodeLatLng=n,this.bindMap=o,this.showMap=r}