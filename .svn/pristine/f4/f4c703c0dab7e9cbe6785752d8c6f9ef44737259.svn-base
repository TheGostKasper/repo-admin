@model AMS.Models.Merchant

@{
    ViewBag.Title = "Details";
    Layout = "~/Views/Shared/_Layout.cshtml";

    var listBranches = ViewData["BMLookup"] as IEnumerable<AMS.Models.Merchant>;
}
<div class="content_inner">
    <header class="content__title">
        <a class="btn btn-secondary btn--icon waves-effect"  href="~/merchant/Edit/@Model.Id"><span><i class="zmdi zmdi-more"></i></span></a>
        <a class="btn btn-secondary btn--icon waves-effect" style="float:right;" href="~/merchant"><span><i class="zmdi zmdi-menu"></i></span></a>
    </header>

    <div class="card profile">

        <div class="profile__img">
            <img src="@Html.DisplayFor(model => model.LogoUrl)" alt="">
        </div>

        <div class="profile__info">
            <h1>@Html.DisplayFor(model => model.NameEN)</h1>

            <ul class="icon-list">
                <li><i class="zmdi zmdi-phone"></i> @Html.DisplayFor(model => model.Phone)</li>
                <li><i class="zmdi zmdi-email"></i> @Html.DisplayFor(model => model.Email)</li>
                <li><i class="zmdi zmdi-twitter"></i> &#64;@Html.DisplayFor(model => model.NameEN)</li>
            </ul>
        </div>
    </div>

    <div class="toolbar">
        <ul class="nav nav-tabs nav-fill noborder" role="tablist">
            <li class="nav-item">
                <a class="nav-link active" data-toggle="tab" href="#About-3" role="tab" aria-expanded="true">About</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" data-toggle="tab" href="#profile-3" role="tab">Business Hours</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" data-toggle="tab" href="#branches-3" role="tab" aria-expanded="false">Branches</a>
            </li>
        </ul>

        @*<div class="actions">
            <i class="actions__item zmdi zmdi-search" data-ma-action="toolbar-search-open"></i>
        </div>*@

        @*<div class="toolbar__search">
            <input type="text" placeholder="Search...">

            <i class="toolbar__search__close zmdi zmdi-long-arrow-left" data-ma-action="toolbar-search-close"></i>
        </div>*@
    </div>

    <div class="card">
        <div class="card-block">
            <div class="tab-content">
                <div class="tab-pane active show" id="About-3" role="tabpanel" aria-expanded="true">
                    <h4 class="card-block__title mb-4">Contact Information</h4>
                    <ul class="icon-list">
                        <li><i class="zmdi zmdi-phone"></i>@Html.DisplayFor(model => model.Phone)</li>
                        <li><i class="zmdi zmdi-email"></i>@Html.DisplayFor(model => model.Email)</li>
                        <li><i class="zmdi zmdi-facebook"></i>@Html.DisplayFor(model => model.NameEN)</li>
                        <li><i class="zmdi zmdi-twitter"></i>@Html.DisplayFor(model => model.NameEN)</li>
                        <li>@*<i class="zmdi zmdi-pin"></i>@Html.DisplayFor(model => model.add)*@</li>
                    </ul>
                </div>
                <div class="tab-pane fade" id="profile-3" role="tabpanel">
                    <p>Business Hourse</p>
                    <table class="table table-bordered">
                        <thead class="thead-default">
                            <tr>
                                <td>Day</td>
                                <td>Open</td>
                                <td>Closed</td>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var item in ViewData["BHLookup"] as IEnumerable<AMS.Models.BusinessHours>)
                            {
                                <tr>
                                    <td>@((DayOfWeek)item.Day - 1)</td>
                                    <td>@item.OpenTime</td>
                                    <td>@item.CloseTime</td>
                                </tr>
                            }

                        </tbody>
                    </table>
                </div>
                @if (Model.IsBranch == 0)
                {
                    <div class="tab-pane fade" id="branches-3" role="tabpanel" aria-expanded="false">
                        <p>Merchant Branches</p>
                        <table class="table table-bordered">
                            <thead class="thead-default">
                                <tr>
                                    <td>Name</td>
                                    <td>Email</td>
                                    <td>Phone</td>
                                </tr>
                            </thead>
                            <tbody>
                                @if (listBranches.Count() > 0)
                                {
                                    foreach (var item in listBranches)
                                    {
                                        <tr>
                                            <td>@item.NameEN</td>
                                            <td>@item.Email</td>
                                            <td>@item.Phone</td>
                                        </tr>
                                    }
                                }
                                else
                                {
                                    <tr><td colspan="3" class="dataTables_empty">No Branches</td></tr>
                                }
                            </tbody>
                        </table>
                    </div>
                }
                
            </div>
        </div>
    </div>
</div>