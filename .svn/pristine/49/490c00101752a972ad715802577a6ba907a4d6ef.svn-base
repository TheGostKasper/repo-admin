!function(){function a(a){e&&e.destroy(),e=l.bindDataTable("#OrderReport",[0,1,2,3,4,5,6,7,8,9,10],function(a,e,t,n){return n.col>=9?moment(a).format("DD/MM/YYYY hh:mm:ss A"):10!=n.col?a:void 0},"merchant/support/order","POST",{merchantId:t,duration:a,dateToPass:n},[{data:"id"},{data:"courierName"},{data:"courierPhone"},{data:"notes"},{data:"userPhone"},{data:"supervisorName"},{data:"grandTotal"},{data:"paymentMethod"},{data:"tip"},{data:"acceptDateTime"},{data:"scheduleDateTime"}])}var e,t,n="";$("#container-hide").hide(),$(".select2").css("width","100%");var l=new DataTableEntry,s=new Merchant;$("#durationSelectDataTable").val()&&a($("#durationSelectDataTable").val()),$("#durationSelectDataTable").on("change",function(e){var t=$(this).val();t>0?(a(t),n="",$("#datepickerTo").val(""),$("#datepickerFrom").val("")):$("#myModal").modal("show")}),$("#searchRangeReport").on("click",function(){var e=new Date($("#datepickerFrom").val()),t=new Date($("#datepickerTo").val()),s=(l.getStringDate(e),l.getStringDate(t));if($("#reportModal").closeModal(),""!=t&&""!=e){var i=Math.abs(t.getTime()-e.getTime()),o=Math.ceil(i/864e5);n=s,a(o)}else alert("Something went wrong")});s.bindMerchantsToSelect("merchantList");$("#merchantList").on("change",function(a){t=$(this).val(),t>0?s.getData("merchant/support/list/"+t,"GET",{}).then(function(a){var e=a.data,t=$("#merchant-panel");t.html("");var n='<div class ="panel-heading" style="height: 170px;"><div class ="col-md-2"><img src=" '+e.logoUrl+'" style="width: 150px;"></div><div class ="col-md-3"><h4><span class ="glyphicon glyphicon-shopping-cart"></span> <small>'+e.nameEN+'</small></h4> <h4><span class ="glyphicon glyphicon-envelope"></span> <small>'+e.email+'</small></h4><h4><span class ="glyphicon glyphicon-earphone"></span> <small>'+e.phone+'</small></h4><h4><span class ="glyphicon glyphicon-map-marker"></span> <small>'+e.country+'</small></h4></div><div class =""><span class ="btn-separator"></span></div><div class ="col-md-2"><h4> Service: <small> '+e.serviceFees+".00 </small></h4><h4>Tax: <small> "+e.tax+".00 </small></h4><h4>Min Order: <small> "+e.minOrder+' </small></h4>/div></div><div class ="panel-footer"><p>Notes: '+e.notes+" </p></div>";t.html(n),$("#container-hide").show(),$("#merchant-panel").show()},function(a){}):($("#container-hide").hide(),$("#merchant-panel").hide())})}();