!function(){function e(e){$.ajax({url:WeeloApi+"admin/servingAreaMarkers?merchantId="+e,type:"GET",success:function(e){n(e.data)},headers:requestHeaders(),dataType:"json"})}function n(e){var n,t,a=new google.maps.Map(document.getElementById("map"),{zoom:2,center:new google.maps.LatLng(e[0].latitude,e[0].longitude),mapTypeId:google.maps.MapTypeId.ROADMAP}),o=new google.maps.InfoWindow;for(t=0;t<e.length;t++)n=new google.maps.Marker({position:new google.maps.LatLng(e[t].latitude,e[t].longitude),map:a}),google.maps.event.addListener(n,"click",function(n,t){return function(){o.setContent(e[t].name),o.open(a,n)}}(n,t))}(new Merchant).bindMerchantsToSelect("merchantList"),$("span.select2").css("width","100%"),$("select").on("change",function(n){merchantId=$(this).val(),merchantId&&e(parseInt(merchantId))})}();